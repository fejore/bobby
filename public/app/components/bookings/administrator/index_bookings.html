<in-wrapper>
  <br><br>
  <div class = "row">
    <div class="col-sm-10 offset-sm-1">
      <table class="table table-hover col-md-12">
        <div class="panel-heading">
          <div class="row">
            <div class="col-md-5 col-sm-12">
                <h3>Gestion des réservations</h3>
            </div>
            <div class="form-group col-md-5 offset-md-1 col-sm-8">
              <input ng-model="bookingSearch" type="text" class="form-control search-list" placeholder="Rechercher une réservation...">
            </div>
          </div>
        </div>
        <thead>
          <tr>
              <th ng-click="sortBy('booker.name')">
                Emprunteur  
                <span ng-show="propertyName=='booker.name'" ng-class="{reverse: reverse}" class="sort-item"><i class="fas fa-sort"></i></span>
              </th>
              <th ng-click="sortBy('owner.name')">
                Propriétaire  
                <span ng-show="propertyName=='owner.name'" ng-class="{reverse: reverse}" class="sort-item"><i class="fas fa-sort"></i></span>
              </th>
              <th ng-click="sortBy('caution')">
                Caution  
                <span ng-show="propertyName=='caution'" ng-class="{reverse: reverse}" class="sort-item"><i class="fas fa-sort"></i></span>
              </th>
              <th ng-click="sortBy('cautionReceived')">
                Caution reçue?  
                <span ng-show="propertyName=='cautionReceived'" ng-class="{reverse: reverse}" class="sort-item"><i class="fas fa-sort"></i></span>
              </th>
              <th ng-click="sortBy('status')">
                Statut  
                <span ng-show="propertyName=='status'" ng-class="{reverse: reverse}" class="sort-item"><i class="fas fa-sort"></i></span>
              </th>
              <th ng-click="sortBy('created_at')">
                Effectuée le  
                <span ng-show="propertyName=='created_at'" ng-class="{reverse: reverse}" class="sort-item"><i class="fas fa-sort"></i></span>
              </th>
              <th>#</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="booking in bookings | toArray:false | filter:bookingSearch | orderBy:propertyName:reverse">
            <td>
              <span>{{ booking.booker.shortname }}</span>
            </td>
            <td>
              <span>{{ booking.owner.shortname }}</span>
            </td>
            <td>
              <span>{{ booking.caution }}</span>
            </td>
            <td>
              <span>{{ booking.cautionReceived }}</span>
            </td>
            <td>
              <span>{{ booking.status }}</span>
            </td>
            <td>
              <span>{{ booking.created_at.toString().replace(' ', 'T') | date :  "dd/MM/yyyy" }}</span>
            </td>
            <td>
              <a href="#!/booking/{{booking.id}}"><button type="button" class="btn btn-grey">Consulter</button></a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</in-wrapper>